% Symbols, math improvements, fonts, etc
\usepackage{amsfonts}            % Calls Amer. Math. Soc. (AMS) fonts
\usepackage[centertags]{amsmath} % Writes maths centered down
\usepackage{amssymb}             % Calls AMS symbols
\usepackage{amsthm}              % Calls AMS theorem environment
\usepackage{centernot}
\usepackage{fixmath}
\usepackage{latexsym}            % Extra symbols
\usepackage{mathtools}
\usepackage{newlfont}            % Helpful package for fonts and symbols
\usepackage[group-separator={,}]{siunitx}
\usepackage{upgreek}             % Calls other kind of greek alphabet

% Language
\usepackage[french,main=english]{babel}
\usepackage{csquotes}
\usepackage[acronym]{glossaries}
\usepackage{lipsum}

% Graphics
\usepackage{graphicx}       % Calls figure environment
\usepackage[dvipsnames]{xcolor}         % Creates coloured text and background
\usepackage{microtype}      % Makes pdf look better.
\usepackage[normalem]{ulem} % Underline command
\setlength{\cftpartnumwidth}{2em}
\setlength{\cftchapternumwidth}{2em}


% Bibliography
\usepackage[backend=biber, style=numeric, maxnames=6]{biblatex}
% Only show DOI when both DOI and URL are present
% https://tex.stackexchange.com/a/424799
\DeclareSourcemap{%
  \maps[datatype=bibtex]{%
    \map[overwrite]{%
      \step[fieldsource=doi, final]
      \step[fieldset=url, null]
      \step[fieldset=eprint, null]
    }
  }
}

% Links and refs
\usepackage[colorlinks=true, allcolors=black]{hyperref}
% \usepackage[ocgcolorlinks]{ocgx2}
\usepackage{url}
\usepackage{cleveref}  % Better \cref with automatic fig names
\usepackage{doi}       % Reference DOIs
\usepackage{memhfixc}  % Fix hyperref for memoir class


% Figures, tables and captions
\usepackage{float}
\usepackage{hhline}
\usepackage{wrapfig}
\usepackage{stackengine}
\usepackage[labelformat=simple]{subcaption}
\captionsetup{compatibility=false}

% Drawings
\usepackage[version=0.96]{pgf}
\usepackage{tikz}
\usepackage{dirtree}

% Pseudocode / code
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage[final]{listings}
\usepackage[outputdir=_build,draft=false]{minted}

% PDF Metadata
\usepackage{ifpdf}
\ifpdf\pdfinfo{%
    /Author (\theauthor{})
    /Title (\thetitle{})
    /CreationDate (D:\pdfcreationdate)
    %   /Keywords (One; Two;Three)
}
\fi

% Draft
\usepackage[firstpage,stamp=true]{draftwatermark}
\SetWatermarkScale{0.3}
\SetWatermarkText{\bf Draft: \today}
\setkeys{Gin}{draft=false}  % Display images in draft mode
