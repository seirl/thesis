<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="373px" preserveAspectRatio="none" style="width:1420px;height:373px;" version="1.1" viewBox="0 0 1420 373" width="1420px" zoomAndPan="magnify"><defs/><g><!--MD5=[f9d78948ff2b83227b66866d68effa63]
cluster swhfs_bound--><rect fill="#FFFFFF" height="234" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="686" x="723" y="32.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="1023.5" y="47.4951">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="1037" y="65.6484">SwhFS</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="1035" y="80.5605">[System]</text><!--MD5=[23d6fcc501312e5a77e0f62381cd199c]
entity swh_fuse--><rect fill="#438DD5" height="115.4531" style="stroke: #3C7FC0; stroke-width: 1.5;" width="219" x="747" y="127"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69" x="822" y="148.1387">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="816" y="165.8203">swh.fuse</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="145" x="784" y="180.7324">[pyfuse3, libfuse, FUSE]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="858.5" y="196.5576"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="757" y="212.8545">Provides a filesystem view of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="768" y="229.1514">Software Heritage objects</text><!--MD5=[23ec4f1fff159d71b633b9f85a9aab58]
entity cache--><path d="M1173,128.5 C1173,118.5 1279,118.5 1279,118.5 C1279,118.5 1385,118.5 1385,128.5 L1385,232.9531 C1385,242.9531 1279,242.9531 1279,242.9531 C1279,242.9531 1173,242.9531 1173,232.9531 L1173,128.5 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M1173,128.5 C1173,138.5 1279,138.5 1279,138.5 C1279,138.5 1385,138.5 1385,128.5 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69" x="1244.5" y="153.6387">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1252" y="171.3203">Cache</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="130" x="1214" y="186.2324">[SQLite or in-memory]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1281" y="202.0576"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="1183" y="218.3545">Local cache for objects and</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1246.5" y="234.6514">metadata</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><rect fill="#08427B" height="52.5938" style="stroke: #073B6F; stroke-width: 1.5;" width="110" x="41.5" y="68"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="69.5" y="89.1387">«person»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="51.5" y="106.8203">Developer</text><!--MD5=[388b80d23af37d7490aec0b633ef638a]
entity tool--><rect fill="#1168BD" height="52.5938" style="stroke: #3C7FC0; stroke-width: 1.5;" width="181" x="6" y="180"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="68.5" y="201.1387">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="16" y="218.8203">Programming Tool</text><!--MD5=[f2c2b31a53c5c4ce909f55cafb9e3eda]
entity fuse--><rect fill="#438DD5" height="131.75" style="stroke: #3C7FC0; stroke-width: 1.5;" width="184" x="357" y="140.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69" x="414.5" y="161.6387">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="427.5" y="179.3203">FUSE</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="426" y="194.2324">[kernel]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="451" y="210.0576"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="375" y="226.3545">Delegates filesystem</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="367" y="242.6514">implementation to user</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="428" y="258.9482">space</text><!--MD5=[a8305b23d211bc1ccd9424c697ead2f2]
entity archive--><rect fill="#999999" height="71.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="188" x="1185" y="291"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="1224" y="312.1387">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="1195" y="329.8203">Software Heritage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="1247" y="348.4453">archive</text><!--MD5=[10b3a46bea91c5f43069f2361ea72c4c]
link swh_fuse to cache--><path d="M966.06,183.47 C1027.96,182.88 1105.34,182.14 1167.54,181.55 " fill="none" id="swh_fuse-&gt;cache" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1172.75,181.5,1163.716,177.5773,1167.7502,181.5429,1163.7846,185.577,1172.75,181.5" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="998" y="149.5669">Reads objects and</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="1013.5" y="164.6997">metadata from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="33" x="1053" y="178.9043">[SQL]</text><!--MD5=[97f80283971cf782f8781399a14f12ae]
link user to swhfs_bound--><path d="M151.71,94.29 C237.775,93.945 411.6575,93.255 565.0437,92.6475 C603.3903,92.4956 640.4559,92.3489 674.548,92.214 C683.071,92.1803 691.4082,92.1473 699.5331,92.1152 C703.5956,92.0991 707.605,92.0833 711.558,92.0676 C713.5345,92.0598 715.4969,92.052 717.4448,92.0443 C718.4187,92.0405 719.3891,92.0367 720.3557,92.0328 " fill="none" id="user-&gt;swhfs_bound" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="720.3557,92.0328,711.34,88.0685,715.3558,92.0526,711.3716,96.0684,720.3557,92.0328" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="375.5" y="60.5669">Controls user-space</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="419" y="75.6997">daemon</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="374.5" y="89.9043">[Command-line interface]</text><!--MD5=[ab48cbd348a76e20eaf6c83ec0a55c56]
link user to fuse--><path d="M151.88,111.88 C205.2,128.91 287.61,155.25 351.97,175.81 " fill="none" id="user-&gt;fuse" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="356.96,177.41,349.5916,170.8749,352.1942,175.8975,347.1717,178.5001,356.96,177.41" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="241" y="116.5669">Browses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="218" y="130.7715">[POSIX filesystem]</text><!--MD5=[a25d420d0677d12b23de6530161fbc1c]
link tool to fuse--><path d="M187.31,206.5 C237.61,206.5 300.34,206.5 351.66,206.5 " fill="none" id="tool-&gt;fuse" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="356.9,206.5,347.9,202.5,351.9,206.5,347.9,210.5,356.9,206.5" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="238" y="188.5669">Accesses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="218" y="202.7715">[POSIX filesystem]</text><!--MD5=[bb698cf1ed9bc1e60225f23580a72fd2]
link fuse to swh_fuse--><path d="M541,201.56 C600.28,198.35 678.09,194.13 741.49,190.69 " fill="none" id="fuse-&gt;swh_fuse" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="746.8,190.4,737.5964,186.8937,741.8074,190.671,738.0301,194.882,746.8,190.4" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="572" y="161.5669">Calls user-space</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="605" y="176.6997">daemon</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="602.5" y="190.9043">[FUSE API]</text><!--MD5=[6556e5d5149acdab6ce9b45fdcf5a98f]
link swh_fuse to archive--><path d="M966.15,226.78 C976.21,230.48 986.28,234.11 996,237.5 C1056.7,258.67 1125.49,280.43 1179.93,297.13 " fill="none" id="swh_fuse-&gt;archive" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1184.82,298.62,1177.3807,292.1658,1180.038,297.1596,1175.0441,299.8169,1184.82,298.62" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="1003" y="204.5669">Retrieves objects</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="997" y="219.6997">and metadata from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="1037.5" y="233.9043">[REST API]</text><!--MD5=[001b211df18195cb6ceeb949b6aa3592]
@startuml arch-container





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}








left to right direction

rectangle "==Developer" <<person>> as user
rectangle "==Programming Tool" <<system>> as tool
rectangle "==FUSE\n//<size:12>[kernel]</size>//\n\n Delegates filesystem implementation to user space" <<container>> as fuse

rectangle "==SwhFS\n<size:12>[System]</size>" <<boundary>> as swhfs_bound {
	rectangle "==swh.fuse\n//<size:12>[pyfuse3, libfuse, FUSE]</size>//\n\n Provides a filesystem view of Software Heritage objects" <<container>> as swh_fuse
	database "==Cache\n//<size:12>[SQLite or in-memory]</size>//\n\n Local cache for objects and metadata" <<container>> as cache
	swh_fuse - -> cache : "===Reads objects and metadata from\n//<size:12>[SQL]</size>//"
}

rectangle "==Software Heritage archive" <<external_system>> as archive

user - -> swhfs_bound : "===Controls user-space daemon\n//<size:12>[Command-line interface]</size>//"
user - -> fuse : "===Browses\n//<size:12>[POSIX filesystem]</size>//"
tool - -> fuse : "===Accesses\n//<size:12>[POSIX filesystem]</size>//"
fuse - -> swh_fuse : "===Calls user-space daemon\n//<size:12>[FUSE API]</size>//"
swh_fuse - -> archive : "===Retrieves objects and metadata from\n//<size:12>[REST API]</size>//"

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14.0.2+12-Debian-1.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>